From 5f802f6ea15c045f7186a7aa402cfbe9333504e3 Mon Sep 17 00:00:00 2001
From: Lukasz Tekieli <lukasz.tekieli@bmw.de>
Date: Mon, 9 Feb 2026 09:29:37 +0100
Subject: [PATCH 1/3] Fix offline log storage global init

---
 src/offlinelogstorage/dlt_offline_logstorage.c | 5 +++++
 src/offlinelogstorage/dlt_offline_logstorage.h | 4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

diff --git a/src/offlinelogstorage/dlt_offline_logstorage.c b/src/offlinelogstorage/dlt_offline_logstorage.c
index edf7b23..c9b9be0 100644
--- a/src/offlinelogstorage/dlt_offline_logstorage.c
+++ b/src/offlinelogstorage/dlt_offline_logstorage.c
@@ -41,6 +41,11 @@
 #define GENERAL_BASE_NAME "General"
 /* Hash map functions */
 
+/* logstorage max cache */
+unsigned int g_logstorage_cache_max;
+/* current logstorage cache size */
+unsigned int g_logstorage_cache_size;
+
 static int dlt_logstorage_hash_create(int num_entries, struct hsearch_data *htab)
 {
     memset(htab, 0, sizeof(*htab));
diff --git a/src/offlinelogstorage/dlt_offline_logstorage.h b/src/offlinelogstorage/dlt_offline_logstorage.h
index df232b7..9b6122b 100644
--- a/src/offlinelogstorage/dlt_offline_logstorage.h
+++ b/src/offlinelogstorage/dlt_offline_logstorage.h
@@ -125,9 +125,9 @@
 #define DLT_OFFLINE_LOGSTORAGE_IS_STRATEGY_SET(S, s) ((S) & (s))
 
 /* logstorage max cache */
-unsigned int g_logstorage_cache_max;
+extern unsigned int g_logstorage_cache_max;
 /* current logstorage cache size */
-unsigned int g_logstorage_cache_size;
+extern unsigned int g_logstorage_cache_size;
 
 typedef struct
 {
-- 
2.43.0

